<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="Project SW Test Forum 8. Vue.js CKEditor 5(Custom Pugin 개발) - 2" /><meta property="og:locale" content="en" /><meta name="description" content="Vue.js 3와 커스텀 플러그인(에디터 크기 변경) 구현 과정을 소개한다." /><meta property="og:description" content="Vue.js 3와 커스텀 플러그인(에디터 크기 변경) 구현 과정을 소개한다." /><link rel="canonical" href="https://scribnote5.github.io/posts/Project-SW-Test-Forum8/" /><meta property="og:url" content="https://scribnote5.github.io/posts/Project-SW-Test-Forum8/" /><meta property="og:site_name" content="끄적이판" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-02-02T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Project SW Test Forum 8. Vue.js CKEditor 5(Custom Pugin 개발) - 2" /><meta name="twitter:site" content="@" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"description":"Vue.js 3와 커스텀 플러그인(에디터 크기 변경) 구현 과정을 소개한다.","url":"https://scribnote5.github.io/posts/Project-SW-Test-Forum8/","headline":"Project SW Test Forum 8. Vue.js CKEditor 5(Custom Pugin 개발) - 2","@type":"BlogPosting","dateModified":"2022-02-02T00:00:00+09:00","datePublished":"2022-02-02T00:00:00+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://scribnote5.github.io/posts/Project-SW-Test-Forum8/"},"@context":"https://schema.org"}</script><title>Project SW Test Forum 8. Vue.js CKEditor 5(Custom Pugin 개발) - 2 | 끄적이판</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="끄적이판"><meta name="application-name" content="끄적이판"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/banners/home.jpeg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">끄적이판</a></div><div class="site-subtitle font-italic">지금까지 공부한 것을 끄적이는 블로그</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/scribnote5" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['scribnote5','gmail.com'].join('@')" aria-label="email" class="order-4" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-5" > <i class="fas fa-rss"></i> </a> <a href="https://www.linkedin.com/in/daeyoung-song-175486167" aria-label="linkedin" class="order-6" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Project SW Test Forum 8. Vue.js CKEditor 5(Custom Pugin 개발) - 2</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Project SW Test Forum 8. Vue.js CKEditor 5(Custom Pugin 개발) - 2</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> scribnote5 </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Wed, Feb 2, 2022, 12:00 AM +0900" >Feb 2<i class="unloaded">2022-02-02T00:00:00+09:00</i> </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Wed, Feb 2, 2022, 12:00 AM +0000" >Feb 2<i class="unloaded">2022-02-02T00:00:00+09:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1124 words">6 min read</span></div></div><div class="post-content"><ul><li>Vue.js 3와 커스텀 플러그인(에디터 크기 변경) 구현 과정을 소개한다.<li>github: <a href="https://github.com/scribnote5/sw_test_forum">https://github.com/scribnote5/sw_test_forum</a></ul><h2 id="에디터-크기-변경-플러그인의-필요성">에디터 크기 변경 플러그인의 필요성</h2><ul><li>회사 그룹웨어에서 사용하는 TinyMCE WYSIWYG에서는 에디터 크기를 전체화면으로 변경하는 플러그인을 제공한다.<li>해당 기능은 내용이 길어지거나 이미지를 삽입하는 업무 메일을 작성할 때, 매우 유용하게 사용하였다. 그러나 아쉽게도 CKEditor 4에서는 에디터 크기 변경 플러그인을 지원하지만 CKEditor 5에서는 지원하지 않았다. CKEditor 5 공식 포럼에 메일로 문의하였지만 css로 크기 조절이 가능하기에, 동적으로 크기 조절 플러그인을 지원하지 않는다고 하였다.<li>따라서 해당 플러그인을 구현하기로 하였다.</ul><p><img data-proofer-ignore data-src="/assets/img/2022-02-02-Project SW Test Forum8/image1.png" alt="image" /></p><h2 id="ckeditor-5-커스텀-플러그인-개발">CKEditor 5 커스텀 플러그인 개발</h2><ul><li>CKEditor 5 커스텀 플러그인은 공식 문서에서 제공하며 하단 출처를 참고하여 개발하였다.</ul><p>출처: <a href="https://ckeditor.com/docs/ckeditor5/latest/framework/guides/plugins/creating-simple-plugin.html">https://ckeditor.com/docs/ckeditor5/latest/framework/guides/plugins/creating-simple-plugin.html</a></p><h3 id="에디터-아이콘-추가">에디터 아이콘 추가</h3><ul><li>에디터를 ‘최대’ 크기로 늘리는 경우, ‘최소’ 크기로 줄이는 경우 기능과 일치하는 아이콘이 위치해야 한다. 아이콘 이미지를 public 폴더와 assets 폴더에 추가하여 읽어오려고 하였지만, CKEditor에서 해당 아이콘 이미지를 인식하지 못하여 오류가 발생하였다.<li>따라서 CKEditor의 이미지가 라이브러리 이미지 파일이 위치한 경로에 아이콘 이미지를 추가하여 읽어오는 방식으로 구현하였다. CKEditor 라이브러리에 의존적이라는 단점이 발생하지만 이를 해결하는 방법을 찾지 못하였다. 이는 CKEditor 라이브러리에 의존적이며 버전이 변경되는 경우 아이콘 이미지를 다시 옮겨야 하는 단점이 있지만, 이를 해결하는 방법을 찾지 못하였다.</ul><div class="language-javascript highlighter-rouge"><div class="code-header"> <span text-data=" JavaScript "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nx">module</span><span class="o">-</span><span class="nx">app</span><span class="o">-</span><span class="nx">web</span><span class="err">\</span><span class="nx">front</span><span class="err">\</span><span class="nx">src</span><span class="err">\</span><span class="nx">assets</span><span class="err">\</span><span class="nx">plugins</span><span class="err">\</span><span class="nx">ckeditor</span><span class="err">\</span><span class="nx">ckeditor</span><span class="o">-</span><span class="nx">editor</span><span class="o">-</span><span class="nx">resize</span><span class="p">.</span><span class="nx">js</span><span class="o">&gt;</span>

<span class="c1">// ...</span>

<span class="c1">// import extendIcon from '/public/extend-black.svg';</span>
<span class="c1">// import shrinkIcon from '/public/shrink-black.svg';</span>
<span class="c1">// import extendIcon from '@/assets/images/shrink-black.svg';</span>
<span class="c1">// import shrinkIcon from '@/assets/images/shrink-black.svg';</span>
<span class="k">import</span> <span class="nx">extendIcon</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@ckeditor/ckeditor5-core/theme/icons/extend-black.svg</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">shrinkIcon</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@ckeditor/ckeditor5-core/theme/icons/shrink-black.svg</span><span class="dl">'</span><span class="p">;</span>

<span class="c1">// ...</span>

<span class="nx">에디터</span> <span class="nx">크기</span> <span class="nx">변경</span> <span class="nx">플러그인</span> <span class="nx">구현</span>
<span class="o">-</span> <span class="nx">에디터</span> <span class="nx">크기를</span> <span class="nx">조절</span> <span class="nx">기능은</span> <span class="nx">css</span> <span class="nx">코드를</span> <span class="nx">삽입하고</span> <span class="nx">삭제하는</span> <span class="nx">자바스크립트</span>
<span class="err">‘</span><span class="nb">document</span><span class="p">.</span><span class="nx">styleSheets</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">insertRule</span><span class="err">’</span><span class="p">,</span> <span class="err">‘</span><span class="nb">document</span><span class="p">.</span><span class="nx">styleSheets</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">deleteRule</span><span class="err">’</span> <span class="nx">함수를</span> <span class="nx">사용하여</span> <span class="nx">구현하였다</span><span class="p">.</span>
<span class="o">-</span> <span class="nx">에디터</span> <span class="nx">크기</span> <span class="nx">변경</span> <span class="nx">할</span> <span class="nx">때</span> <span class="nx">아이콘이</span> <span class="nx">변경되며</span><span class="p">,</span> <span class="nx">HTML</span> <span class="nx">body의</span> <span class="nx">scroll</span> <span class="nx">bar가</span> <span class="nx">숨겨지거나</span> <span class="nx">보여진다</span><span class="p">.</span>
<span class="nx">module</span><span class="o">-</span><span class="nx">app</span><span class="o">-</span><span class="nx">web</span><span class="err">\</span><span class="nx">front</span><span class="err">\</span><span class="nx">src</span><span class="err">\</span><span class="nx">assets</span><span class="err">\</span><span class="nx">plugins</span><span class="err">\</span><span class="nx">ckeditor</span><span class="err">\</span><span class="nx">ckeditor</span><span class="o">-</span><span class="nx">editor</span><span class="o">-</span><span class="nx">resize</span><span class="p">.</span><span class="nx">js</span>
<span class="k">import</span> <span class="nx">Plugin</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@ckeditor/ckeditor5-core/src/plugin</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">ButtonView</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@ckeditor/ckeditor5-ui/src/button/buttonview</span><span class="dl">'</span><span class="p">;</span>

<span class="c1">// import extendIcon from '/public/extend-black.svg';</span>
<span class="c1">// import shrinkIcon from '/public/shrink-black.svg';</span>
<span class="c1">// import extendIcon from '@/assets/images/shrink-black.svg';</span>
<span class="c1">// import shrinkIcon from '@/assets/images/shrink-black.svg';</span>
<span class="k">import</span> <span class="nx">extendIcon</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@ckeditor/ckeditor5-core/theme/icons/extend-black.svg</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">shrinkIcon</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@ckeditor/ckeditor5-core/theme/icons/shrink-black.svg</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">class</span> <span class="nx">EditorResize</span> <span class="kd">extends</span> <span class="nx">Plugin</span> <span class="p">{</span>
   <span class="nx">init</span><span class="p">()</span> <span class="p">{</span>
       <span class="kd">const</span> <span class="nx">editor</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">editor</span><span class="p">;</span>

       <span class="nx">editor</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">componentFactory</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="dl">'</span><span class="s1">editorResize</span><span class="dl">'</span><span class="p">,</span> <span class="nx">locale</span> <span class="o">=&gt;</span> <span class="p">{</span>
           <span class="kd">const</span> <span class="nx">view</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ButtonView</span><span class="p">(</span><span class="nx">locale</span><span class="p">);</span>
           <span class="kd">let</span> <span class="nx">isFullSize</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

           <span class="nx">view</span><span class="p">.</span><span class="kd">set</span><span class="p">({</span>
               <span class="na">label</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Extend editor</span><span class="dl">'</span><span class="p">,</span>
               <span class="na">icon</span><span class="p">:</span> <span class="nx">extendIcon</span><span class="p">,</span>
               <span class="na">tooltip</span><span class="p">:</span> <span class="kc">true</span>
           <span class="p">});</span>

           <span class="c1">// Callback executed once the image is clicked.</span>
           <span class="nx">view</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">execute</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
               <span class="nx">editor</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">change</span><span class="p">(</span><span class="nx">writer</span> <span class="o">=&gt;</span> <span class="p">{</span>
                   <span class="k">if</span> <span class="p">(</span><span class="nx">isFullSize</span><span class="p">)</span> <span class="p">{</span>
                       <span class="nb">document</span><span class="p">.</span><span class="nx">styleSheets</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">deleteRule</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
                       <span class="nb">document</span><span class="p">.</span><span class="nx">styleSheets</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">deleteRule</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
                       <span class="nb">document</span><span class="p">.</span><span class="nx">styleSheets</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">deleteRule</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>

                       <span class="nb">document</span><span class="p">.</span><span class="nx">styleSheets</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">insertRule</span><span class="p">(</span>
                           <span class="dl">"</span><span class="s2">.ck-editor__editable:not(.ck-editor__nested-editable) { </span><span class="dl">"</span> <span class="o">+</span>
                           <span class="dl">"</span><span class="s2">height: 550px; }</span><span class="dl">"</span><span class="p">);</span>

                       <span class="nx">view</span><span class="p">.</span><span class="kd">set</span><span class="p">({</span>
                           <span class="na">label</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Extend editor</span><span class="dl">'</span><span class="p">,</span>
                           <span class="na">icon</span><span class="p">:</span> <span class="nx">extendIcon</span><span class="p">,</span>
                           <span class="na">tooltip</span><span class="p">:</span> <span class="kc">true</span>
                       <span class="p">});</span>
                       <span class="nx">isFullSize</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
                       <span class="nx">editor</span><span class="p">.</span><span class="nx">editing</span><span class="p">.</span><span class="nx">view</span><span class="p">.</span><span class="nx">focus</span><span class="p">()</span>
                   <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                       <span class="nb">document</span><span class="p">.</span><span class="nx">styleSheets</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">insertRule</span><span class="p">(</span>
                           <span class="dl">"</span><span class="s2">.ck.ck-editor { </span><span class="dl">"</span> <span class="o">+</span>
                           <span class="dl">"</span><span class="s2">position: fixed !important; </span><span class="dl">"</span> <span class="o">+</span>
                           <span class="dl">"</span><span class="s2">top: 0px ; </span><span class="dl">"</span> <span class="o">+</span>
                           <span class="dl">"</span><span class="s2">left: 0px ; </span><span class="dl">"</span> <span class="o">+</span>
                           <span class="dl">"</span><span class="s2">z-index: 1200 ; </span><span class="dl">"</span> <span class="o">+</span>
                           <span class="dl">"</span><span class="s2">width:</span><span class="dl">"</span> <span class="o">+</span> <span class="nb">window</span><span class="p">.</span><span class="nx">innerWidth</span> <span class="o">+</span> <span class="dl">"</span><span class="s2">px !important; }</span><span class="dl">"</span><span class="p">);</span>
                       <span class="nb">document</span><span class="p">.</span><span class="nx">styleSheets</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">insertRule</span><span class="p">(</span>
                           <span class="dl">"</span><span class="s2">.ck-editor__editable:not(.ck-editor__nested-editable) { </span><span class="dl">"</span> <span class="o">+</span>
                           <span class="dl">"</span><span class="s2">height: calc(</span><span class="dl">"</span> <span class="o">+</span> <span class="nb">window</span><span class="p">.</span><span class="nx">innerHeight</span> <span class="o">+</span> <span class="dl">"</span><span class="s2">px - 77px)  !important; }</span><span class="dl">"</span><span class="p">);</span>
                       <span class="nb">document</span><span class="p">.</span><span class="nx">styleSheets</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">insertRule</span><span class="p">(</span>
                           <span class="dl">"</span><span class="s2">body { overflow-y: hidden  }</span><span class="dl">"</span><span class="p">);</span>

                       <span class="nx">view</span><span class="p">.</span><span class="kd">set</span><span class="p">({</span>
                           <span class="na">label</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Shrink editor</span><span class="dl">'</span><span class="p">,</span>
                           <span class="na">icon</span><span class="p">:</span> <span class="nx">shrinkIcon</span><span class="p">,</span>
                           <span class="na">tooltip</span><span class="p">:</span> <span class="kc">true</span>
                       <span class="p">});</span>
                       <span class="nx">isFullSize</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
                       <span class="nx">editor</span><span class="p">.</span><span class="nx">editing</span><span class="p">.</span><span class="nx">view</span><span class="p">.</span><span class="nx">focus</span><span class="p">()</span>
                   <span class="p">}</span>
               <span class="p">});</span>
           <span class="p">});</span>

           <span class="k">return</span> <span class="nx">view</span><span class="p">;</span>
       <span class="p">});</span>
   <span class="p">}</span>
<span class="p">}</span>

<span class="k">export</span> <span class="p">{</span><span class="nx">EditorResize</span><span class="p">}</span>
</pre></table></code></div></div><h3 id="에디터-초기화-시-커스텀-플러그인-호출">에디터 초기화 시 커스텀 플러그인 호출</h3><ul><li>editorConfig 객체의 plugins 속성에 EditorResize를, toolbar 속성에 ‘editorResize’를 추가하면 된다.</ul><div class="language-javascript highlighter-rouge"><div class="code-header"> <span text-data=" JavaScript "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nx">module</span><span class="o">-</span><span class="nx">app</span><span class="o">-</span><span class="nx">web</span><span class="err">\</span><span class="nx">front</span><span class="err">\</span><span class="nx">src</span><span class="err">\</span><span class="nx">assets</span><span class="err">\</span><span class="nx">plugins</span><span class="err">\</span><span class="nx">ckeditor</span><span class="err">\</span><span class="nx">ckeditor</span><span class="o">-</span><span class="nx">init</span><span class="p">.</span><span class="nx">js</span><span class="o">&gt;</span>

<span class="c1">// ...</span>
<span class="k">import</span> <span class="p">{</span><span class="nx">EditorResize</span><span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./ckeditor-editor-resize</span><span class="dl">"</span>

<span class="kd">const</span> <span class="nx">editor</span> <span class="o">=</span> <span class="nx">ClassicEditor</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">editorConfig</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">plugins</span><span class="p">:</span> <span class="p">[</span>
       <span class="c1">// ...</span>
       <span class="nx">Essentials</span><span class="p">,</span>
       <span class="nx">HtmlEmbed</span><span class="p">,</span>
       <span class="nx">UploadAdapter</span><span class="p">,</span>
       <span class="c1">//EasyImage,</span>
       <span class="c1">//CloudServices,</span>
       <span class="nx">Mention</span><span class="p">,</span>
       <span class="c1">// MentionCustomization,</span>
       <span class="nx">SourceEditing</span><span class="p">,</span>

       <span class="nx">EditorResize</span>
   <span class="p">],</span>

   <span class="na">toolbar</span><span class="p">:</span> <span class="p">{</span>
       <span class="na">items</span><span class="p">:</span> <span class="p">[</span>
           <span class="c1">// ...</span>
           <span class="dl">'</span><span class="s1">|</span><span class="dl">'</span><span class="p">,</span>
           <span class="dl">'</span><span class="s1">undo</span><span class="dl">'</span><span class="p">,</span>
           <span class="dl">'</span><span class="s1">redo</span><span class="dl">'</span><span class="p">,</span>
           <span class="dl">'</span><span class="s1">|</span><span class="dl">'</span><span class="p">,</span>
           <span class="dl">'</span><span class="s1">sourceEditing</span><span class="dl">'</span><span class="p">,</span>
           <span class="dl">'</span><span class="s1">|</span><span class="dl">'</span><span class="p">,</span>
           <span class="dl">'</span><span class="s1">editorResize</span><span class="dl">'</span>
       <span class="p">],</span>
       <span class="na">shouldNotGroupWhenFull</span><span class="p">:</span> <span class="kc">true</span>
   <span class="p">},</span>
   <span class="c1">// ...</span>
<span class="p">};</span>
</pre></table></code></div></div><h2 id="구현-결과">구현 결과</h2><ul><li>에디터 크기가 최소 일 때와 에디터 크기가 최대 일 때의 이미지다.</ul><p><img data-proofer-ignore data-src="/assets/img/2022-02-02-Project SW Test Forum8/image2.png" alt="image" /></p><p><img data-proofer-ignore data-src="/assets/img/2022-02-02-Project SW Test Forum8/image3.png" alt="image" /></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/web/'>Web</a>, <a href='/categories/project-sw-test-forum/'>Project SW Test Forum</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Project SW Test Forum 8. Vue.js CKEditor 5(Custom Pugin 개발) - 2 - 끄적이판&url=https://scribnote5.github.io/posts/Project-SW-Test-Forum8/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Project SW Test Forum 8. Vue.js CKEditor 5(Custom Pugin 개발) - 2 - 끄적이판&u=https://scribnote5.github.io/posts/Project-SW-Test-Forum8/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Project SW Test Forum 8. Vue.js CKEditor 5(Custom Pugin 개발) - 2 - 끄적이판&url=https://scribnote5.github.io/posts/Project-SW-Test-Forum8/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/MISRA-C3/">함수 호출 인자 및 함수 매개변수의 한정자 관계</a><li><a href="/posts/Project-SW-Test-Forum17/">Project SW Test Forum 17. 유지보수 - 5</a><li><a href="/posts/Project-SW-Test-Forum16/">Project SW Test Forum 16. 유지보수 - 4</a><li><a href="/posts/MISRA-C-02-03/">MISRA C 2012_02_03 - 사용하지 않는 자료형 선언 제거</a><li><a href="/posts/MISRA-C-02-04/">MISRA C 2012_02_04 - 사용하지 않는 태그(struct, union, enum) 선언 제거</a></ul></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Project-SW-Test-Forum0/"><div class="card-body"> <span class="timeago small" >Jun 21, 2021<i class="unloaded">2021-06-21T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Project SW Test Forum 0. 소프트웨어 테스트 포럼 소개</h3><div class="text-muted small"><p> 소프트웨어 테스트 포럼 페이지 개발 프로젝트를 소개한다. github: https://github.com/scribnote5/sw_test_forum 계기 회사 업무 중 업무관리 시스템의 부재로 정리 및 공유의 불편함을 느꼈다. 현재 회사에서의 주요 업무는 신뢰성 시험이며, 이중 정적 시험(코드 규칙) 가이드 라인은 쌓여 있는 데...</p></div></div></a></div><div class="card"> <a href="/posts/Project-SW-Test-Forum1/"><div class="card-body"> <span class="timeago small" >Jul 10, 2021<i class="unloaded">2021-07-10T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Project SW Test Forum 1. Spring Boot 환경 구축 및 프로젝트 구성 - 1</h3><div class="text-muted small"><p> Spring Boot 환경 구축 및 프로젝트 구성 과정을 소개한다. github: https://github.com/scribnote5/sw_test_forum Spring Boot 환경 구축 Spring Boot 환경 구축 방법은 과거 작성하였던 ‘Project Lab 1-1. 개발 환경 구축(IntelliJ) ‘ github pa...</p></div></div></a></div><div class="card"> <a href="/posts/Project-SW-Test-Forum2/"><div class="card-body"> <span class="timeago small" >Jul 10, 2021<i class="unloaded">2021-07-10T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Project SW Test Forum 2. Vue.js 환경 구축 및 프로젝트 구성 - 1</h3><div class="text-muted small"><p> Vue.js 환경 구축 및 프로젝트 구성 과정을 소개한다. github: https://github.com/scribnote5/sw_test_forum Vue.js란? Vue.js는 프론트엔드 프레임워크로서, 컴포넌트(Component) 기반의 SPA(Single Page Application)를 구축할 수 있게 하는 프레임워크다. ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Project-SW-Test-Forum7/" class="btn btn-outline-primary" prompt="Older"><p>Project SW Test Forum 7. CRUD 게시판 구현 및 오류 해결(벡엔드) - 2</p></a> <a href="/posts/Project-SW-Test-Forum9/" class="btn btn-outline-primary" prompt="Newer"><p>Project SW Test Forum 9. 기타 기능 구현 - 1</p></a></div><div id="disqus_thread" class="pt-2 pb-2"><p class="text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script type="text/javascript"> var disqus_config = function () { this.page.url = 'https://scribnote5.github.io/posts/Project-SW-Test-Forum8/'; this.page.identifier = '/posts/Project-SW-Test-Forum8/'; }; /* Lazy loading */ var disqus_observer = new IntersectionObserver(function (entries) { if(entries[0].isIntersecting) { (function () { var d = document, s = d.createElement('script'); s.src = 'https://scribnote5-github-io.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); disqus_observer.disconnect(); } }, { threshold: [0] }); disqus_observer.observe(document.querySelector('#disqus_thread')); /* Auto switch theme */ function reloadDisqus() { /* Disqus hasn't been loaded */ if (typeof DISQUS === "undefined") { return; } if (document.readyState == 'complete') { DISQUS.reset({ reload: true, config: disqus_config }); } } const modeToggle = document.querySelector(".mode-toggle"); if (modeToggle !== null) { modeToggle.addEventListener('click', reloadDisqus); window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', reloadDisqus); } </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://github.com/scribnote5">scribnote5</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
